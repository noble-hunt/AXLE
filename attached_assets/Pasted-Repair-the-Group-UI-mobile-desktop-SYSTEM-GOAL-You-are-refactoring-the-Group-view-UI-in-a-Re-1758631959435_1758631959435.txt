Repair the Group UI (mobile & desktop)

SYSTEM / GOAL

You are refactoring the Group view UI in a React + Vite SPA (TypeScript). The app uses a dark theme, Tailwind (or utility CSS), and Supabase. The current Group screen has unreadable text, overlapping emoji/reaction badges, clipped buttons, and the composer overlaps the feed on mobile.

SCOPE OF WORK

Locate Group UI files (likely under client/src/features/groups/*):

GroupPage.tsx (header: title, members)

GroupFeed.tsx (list)

GroupPostCard.tsx (post + reactions)

NudgeCard.tsx (quiet/nudge callout)

GroupComposer.tsx (message input, send button)

shared styles for chips/reaction badges/buttons

Fix layout & readability:

Use a single column feed with gap spacing; no overlapping absolute elements.

Reaction badges must wrap and never cover text. Replace absolute positioning with flex flex-wrap items-center gap-2.

Ensure contrast: min 4.5:1; use theme tokens text-white/90, text-white/70 for secondary; avoid pure #fff on neon backgrounds.

Cards: rounded-2xl, p-4 md:p-5, shadow-sm, bg-zinc-900/70, border border-white/10.

Buttons: consistent height (44px min), leading-none, icon+label centered with gap-2.

Ensure long text wraps; set break-words and min-w-0 inside flex rows.

Remove any z-index hacks causing badges to float above content.

Mobile composer & safe area:

The feed container must not be covered by the composer. Add bottom padding equal to the composer height + env(safe-area-inset-bottom).

Composer is sticky at bottom: position: sticky; bottom: 0; or fixed with a dedicated spacer.

iOS keyboard: use 100dvh and max-h-[100dvh] patterns to avoid scroll lock; test on 375×812.

Spacing & typography:

Adopt an 8-pt grid; set space-y-3 between feed items.

Headings: text-lg md:text-xl font-semibold.

Meta rows: text-sm text-white/60.

Reaction bar: chip size 28–32px, hit area ≥ 36px.

Accessibility & QA:

All interactive elements have aria-labels.

Focus styles visible on keyboard nav.

ACCEPTANCE CRITERIA

No overlapping elements at 360px, 390px, 768px, 1024px widths.

Lighthouse Accessibility ≥ 90 on the Group page.

Composer never covers the last message; scroll-to-bottom works after sending.

Reaction chips wrap gracefully; no horizontal scroll.

Buttons are legible; “Generate group workout”, “Sync tonight”, “Share a plan” look consistent.

IMPLEMENTATION HINTS (OK to modify paths)

Wrap each card:

<Card className="rounded-2xl bg-zinc-900/70 border border-white/10 p-4 md:p-5 space-y-3">
  {/* content */}
</Card>


Reaction bar example:

<div className="flex flex-wrap items-center gap-2">
  {reactions.map(r => (
    <button
      key={r.emoji}
      className="px-2 h-8 rounded-full bg-white/10 hover:bg-white/15 text-white/90 text-sm"
      aria-label={`React ${r.emoji}`}
    >
      <span className="mr-1">{r.emoji}</span>{r.count}
    </button>
  ))}
</div>


Feed container & composer spacer:

<div className="flex flex-col min-h-[100dvh]">
  <main className="flex-1 overflow-y-auto px-4 pb-[112px] md:pb-0"> {/* pb matches composer height */}
    {/* feed */}
  </main>
  <Composer /> {/* sticky/fixed with safe-area padding internally */}
</div>


DONE = commit with message: fix(groups): readable layout, wrapped reactions, safe-area composer, consistent buttons